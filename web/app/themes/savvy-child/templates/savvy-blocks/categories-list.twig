{# Categories List Block #}

{% set bg_colors = [
    'bg-random-900', 
    'bg-random-800', 
    'bg-random-700',
    'bg-random-600',
    'bg-random-500',
    'bg-random-400',
    'bg-random-300',
    'bg-random-200',
    'bg-random-100',
    ] 
%}

<div class="overflow-hidden rounded-lg shadow-lg">
    <a class="flex justify-start items-center gap-3 no-underline py-3 px-5 bg-gradient-to-r from-primary-100 to-primary-400">
        <div class="p-2 flex-none w-12 h-12 bg-white rounded-full shadow-xl">
            {{ term_img|replace({'{{tailwind_classes}}': "rounded-full w-full h-full object-contain"})|raw }}
        </div>
        <h3 class="mb-0 text-size_19">{{term_name}}</h3>
    </a>
    <div class="py-3 bg-white">
        <p class="text-center px-2 text-size_15 text-dark-500 font-normal">{{short_desc}}</p>
        <ul>
            {% for post in posts %}
                <li class="relative group">
                    <a class="flex justify-start items-center mb-0 px-2 py-2 text-size_16 font-normal no-underline hover:bg-gradient-to-l from-secondary-200 to-secondary-100  ">
                        <span class="absolute left-3 mr-3 text-dark-500 font-light">{{ loop.index }}</span>
                            {{ post.featured_img|replace({'{{tailwind_classes}}': "flex flex-none justify-center items-center text-size_12 text-white rounded-full w-6 h-6 ml-6 mr-3 " ~ random(bg_colors) })|raw }}
                        <span class="text-dark-800 group-hover:text-primary-700">{{ post.title }}</span>
                    </a>
                    <div class="absolute invisible p-7 left-3.5 bottom-[calc(100%_+_20px)] z-10 bg-white shadow-lg rounded-lg group-hover:visible group-hover:delay-700">
                        <i class="absolute block left-0 top-full w-full h-5 bg-white-700">
                            <div class="absolute w-0 h-0 left-4 border-t-8 border-t-white border-l-8 border-r-8 border-r-transparent border-l-transparent"></div>
                        </i>
                        <div class="flex justify-start items-center">
                            {{ post.featured_img|replace({'{{tailwind_classes}}': "rounded-full w-11 h-11 mr-3"})|raw }}
                            <div>
                                <p class="text-dark-800 text-size_18 font-medium mb-0">{{ post.title }}</p>
                                <p class="text-dark-600 text-size_16 font-normal mb-0">{{ post.official_link|replace({'https:': "", "/" : "", "http:" : ""}) }}</p>
                            </div>
                        </div>
                        <a class="group-level2 flex justify-center items-center rounded-full border  border-primary-700 text-primary-700 px-5 py-1.5 no-underline mt-3 hover:bg-primary-700 hover:text-white" href="{{post.link}}" role="button">
                            <span>Read Review</span>
                            {% include 'partials/icons.twig' with { icon: 'sc-icon_chevron_right', class: 'fill-primary-700 w-3 h-3 ml-3 group-level2-hover:fill-white' } %}
                        </a>
                        <a class="flex justify-center items-center rounded-full bg-primary-700 text-white px-5 py-1.5 no-underline mt-3 hover:text-white hover:bg-primary-800" href="{{post.affiliate_link}}" role="button">
                            <span>Open Website</span>
                            {% include 'partials/icons.twig' with { icon: 'sc-icon_ext_link', class: 'fill-white w-3 h-3 ml-3' } %}
                        </a>
                    </div> 
                </li>
            {% endfor %}
        </ul>
        <a class="group no-underline flex justify-between items-center px-2 mt-5" href="">
            <span class="flex justify-center items-center text-primary-700 group-hover:text-primary-800">
                Load {{total_sites}} sites
                <i class="block bg-white rounded-full p-1.5 mb-0 shadow-md ml-3">
                    {% include 'partials/icons.twig' with { icon: 'sc-icon_chevron_right', class: 'block fill-dark-600 w-2.5 h-2.5' } %}
                </i>
            </span>
            <div class="flex justify-center items-center gap-2">
                {% for upcoming_streaming in upcoming %}
                    {{ upcoming_streaming.featured_img|replace({'{{tailwind_classes}}': "flex flex-none justify-center items-center text-size_12 text-white rounded-full w-6 h-6 " ~ random(bg_colors)})|raw }}
                {% endfor %}
            </div>
        </a>
    </div>
</div>